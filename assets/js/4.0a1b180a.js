(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{310:function(e,t,n){var u=n(1),r=n(4),c=n(100),o=[].slice,i=function(e){return function(t,n){var u=arguments.length>2,r=u?o.call(arguments,2):void 0;return e(u?function(){("function"==typeof t?t:Function(t)).apply(this,r)}:t,n)}};u({global:!0,bind:!0,forced:/MSIE .\./.test(c)},{setTimeout:i(r.setTimeout),setInterval:i(r.setInterval)})},311:function(e,t,n){"use strict";n.d(t,"a",(function(){return R})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return O})),n.d(t,"d",(function(){return G})),n.d(t,"e",(function(){return A})),n.d(t,"f",(function(){return P})),n.d(t,"g",(function(){return w})),n.d(t,"h",(function(){return N})),n.d(t,"i",(function(){return C})),n.d(t,"j",(function(){return T})),n.d(t,"k",(function(){return I})),n.d(t,"l",(function(){return _})),n.d(t,"m",(function(){return j})),n.d(t,"n",(function(){return B}));n(168),n(99),n(68),n(169),n(45),n(98),n(27),n(310);var u=n(0),r=n(97);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
function c(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var u=Array(e),r=0;for(t=0;t<n;t++)for(var c=arguments[t],o=0,i=c.length;o<i;o++,r++)u[r]=c[o];return u}u.a.use(r.b);var o=function(e){return null==e},i=function(){function e(e){this._m=e}return e.prototype.getRawMatrix=function(){return this._m},e.prototype.getRawMatrixColNum=function(){try{return this._m[0].length}catch(e){throw new Error("矩阵列不能为空")}},e.prototype.getRawMatrixRowNum=function(){return this._m.length},e.prototype.transpose=function(){for(var e=this.getRawMatrixColNum(),t=this.getRawMatrixRowNum(),n=Array.from({length:e}).map((function(){return Array.from({length:t})})),u=0;u<e;u++)for(var r=0;r<t;r++)n[u][r]=this._m[r][u];return n},e}();function s(e,t,n){if(void 0===n&&(n=function(e){return e.join("-")}),t<0)return[];if(1===t)return e.map((function(e){return n([e])}));var u=[];return function e(r,c,o){if(o.length!==t)for(var i=c;i<r.length;i++)o.push(r[i]),e(r,i+1,o),o.pop();else u.push(n(o))}(e,0,[]),u}var a={skuCodeJoiner:"$",specCodeJoiner:"#",getSkuList:function(e){return e},getSkuSpecList:function(e){return e.spuSpecValues},getSkuId:function(e){return e.skuId},getSpecId:function(e){return e.specId},getSpecTitle:function(e){return e.specName},getspecValueId:function(e){return e.specValueId},getspecValue:function(e){return e.specValueRemark}};var p,f,l=function(){function e(e){this.hooks=[],this.selectedSpec=Array.from({length:e})}return e.prototype.selectSpec=function(e,t){var n=this;this.selectedSpec[e]=t,this.checkIsGenASku()&&this.hooks.forEach((function(e){e(n.getSpecsJoin())}))},e.prototype.cancelSpec=function(e){this.selectedSpec[e]=null},e.prototype.sepcIsSelected=function(e,t){var n;return!(!this.selectedSpec[e]||(null===(n=this.selectedSpec[e])||void 0===n?void 0:n.specJoinQue)!==t.specJoinQue)},e.prototype.getSpecsJoinWith=function(e,t){return this.selectedSpec.reduce((function(n,u,r){return r===e?n?""+n+a.specCodeJoiner+t.specJoinQue:t.specJoinQue:n?u?""+n+a.specCodeJoiner+u.specJoinQue:n:u?u.specJoinQue:""}),"")},e.prototype.combineHook=function(e){this.hooks.push(e)},e.prototype.checkIsGenASku=function(){return!this.selectedSpec.some(o)},e.prototype.getSpecsJoin=function(){return this.selectedSpec.map((function(e){return null==e?void 0:e.specJoinQue})).join(a.specCodeJoiner)},e}(),d=function(){function e(e){this.skuId="",this.toltalSpecCombine=[],this.code=e,this._combineCode()}return e.prototype._combineCode=function(){var e=this.code.split(a.skuCodeJoiner);this.skuId=e[0];for(var t=e[1].split(a.specCodeJoiner),n=t.length,u=1;u<=n;u++){var r=s(t,u,(function(e){return e.join(a.specCodeJoiner)}));this.toltalSpecCombine=c(this.toltalSpecCombine,r)}},e}();(f=p||(p={})).PENDING="pending",f.DISABLED="disabled",f.SELECTED="selected";var h,v,S=function(){function e(e){this.pathDict=[],this.specGroup=e,this._initPathDict(),this._initSkuPending()}return e.prototype._initPathDict=function(){var e=this;this.specGroup.eachSkuIdJoinSpecsId((function(t){var n=new d(t);e.pathDict=c(e.pathDict,n.toltalSpecCombine)}))},e.prototype._initSkuPending=function(){var e=this.specGroup.specLines.length;this.skuPending=new l(e)},e.prototype.specTap=function(e){e.status!==p.DISABLED&&(this._changeSpecStatus(e),this._checkOtherSpecStatus())},e.prototype.onSkuCombined=function(e){var t=this;this.skuPending.combineHook((function(n){var u,r;t.specGroup.skuIdJoinSpecsId.forEach((function(e){var t;e.includes(n)&&(t=e.split(a.skuCodeJoiner),u=t[0],r=t[1])})),e(u,r)}))},e.prototype._changeSpecStatus=function(e){e.status===p.PENDING?(this.specGroup.setSpecStatusByPosition(e.row,e.col,p.SELECTED),this.skuPending.selectSpec(e.row,this.specGroup.getSpec(e.row,e.col))):e.status===p.SELECTED&&(this.specGroup.setSpecStatusByPosition(e.row,e.col,p.PENDING),this.skuPending.cancelSpec(e.row))},e.prototype._checkOtherSpecStatus=function(){var e=this;this.specGroup.eachSpec((function(t,n,u){if(!e.skuPending.sepcIsSelected(n,t)){var r=e.skuPending.getSpecsJoinWith(n,t);e._isInPathDict(r)?e.specGroup.setSpecStatusByPosition(t.row,t.col,p.PENDING):e._disableSpec(n,u)}}))},e.prototype._isInPathDict=function(e){return this.pathDict.includes(e)},e.prototype._disableSpec=function(e,t){this.specGroup.setSpecStatusByPosition(e,t,p.DISABLED)},e}(),g=function(){function e(e,t,n){this.status=p.PENDING,this.row=t,this.col=n,this.specValue=a.getspecValue(e),this.specId=a.getSpecId(e),this.specValueId=a.getspecValueId(e)}return Object.defineProperty(e.prototype,"specJoinQue",{get:function(){return this.specValueId?this.specId+"-"+this.specValueId:""+this.specId},enumerable:!1,configurable:!0}),e.prototype.setStatus=function(e){this.status=e},e}(),b=function(){function e(e,t){this.specLineTitle="",this.specs=[],this.row=t,this.specLineTitle=a.getSpecTitle(e[0]),this._init(e)}return e.prototype._init=function(e){var t=this;e.map((function(e,n){if(!t._specIsRepeact(e)){var u=new g(e,t.row,n);t.specs.push(u)}}))},e.prototype._specIsRepeact=function(e){return this.specs.findIndex((function(t){return t.specId+"-"+t.specValueId==a.getSpecId(e)+"-"+a.getspecValueId(e)}))>-1},e}(),m=function(){function e(e){this._skuSpecsList=[],this._skuIdJoinSpecsId=[],this.specLines=[],this._skuList=a.getSkuList(e),this._setup()}return Object.defineProperty(e.prototype,"skuSpecsList",{get:function(){return this._skuSpecsList},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skuIdJoinSpecsId",{get:function(){return this._skuIdJoinSpecsId},enumerable:!1,configurable:!0}),e.prototype._setup=function(){this._createSkuSpecsList();var e=this._transposeSkuSpecsList();this._createSpecLines(e)},e.prototype._createSkuSpecsList=function(){var e=this;this._skuSpecsList=this._skuList.map((function(t){var n=a.getSkuSpecList(t);return e._createSkuIdJoinSpecsId(t,n),n}))},e.prototype._createSkuIdJoinSpecsId=function(e,t){var n=""+a.getSkuId(e)+a.skuCodeJoiner;n+=t.map((function(e){var t=a.getSpecId(e),n=a.getspecValueId(e);return n?t+"-"+n:t})).join(a.specCodeJoiner),this._skuIdJoinSpecsId.push(n)},e.prototype._transposeSkuSpecsList=function(){return new i(this._skuSpecsList).transpose()},e.prototype._createSpecLines=function(e){for(var t=0;t<e.length;t++){var n=new b(e[t],t);this.specLines.push(n)}},e.prototype.eachSpec=function(e){this.specLines.forEach((function(t,n){t.specs.forEach((function(t,u){e(t,n,u)}))}))},e.prototype.getSpec=function(e,t){return this.specLines[e].specs[t]},e.prototype.setSpecStatusByPosition=function(e,t,n){this.specLines[e].specs[t].setStatus(n)},e.prototype.eachSkuIdJoinSpecsId=function(e){this._skuIdJoinSpecsId.forEach((function(t){e(t)}))},e}();function k(e,t){t&&function(e){a=function(e,t){var n={};for(var u in t)n[u]=t[u];for(var u in e)Object.prototype.hasOwnProperty.call(n,u)||(n[u]=e[u]);return n}(a,e)}(t);var n=new m(e);return new S(n)}function I(e,t){var n=k(e,t),u=Object(r.i)(n.specGroup.specLines);return{specTap:function(e){n.specTap(e),u.value=n.specGroup.specLines.concat()},skuList:u}}function y(e,t){var n="number"==typeof t?t:0,u=null;function r(){u&&clearTimeout(u)}return{run:function(){for(var t=[],c=0;c<arguments.length;c++)t[c]=arguments[c];r(),u=setTimeout((function(){e.apply(void 0,t)}),n)},cancel:r}}function O(e,t){var n=Object(r.h)(e.value),u=y((function(e){n.value=e}),t),c=u.run,o=u.cancel,i=Object(r.j)(e,(function(e){return c(e)}));return Object(r.c)()&&Object(r.f)((function(){i(),o()})),n}function _(e,t){var n="number"==typeof t?t:0,u=null;return{run:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];u||(u=setTimeout((function(){e.apply(void 0,t),u=null}),n))},cancel:function(){u&&clearTimeout(u)}}}function j(e,t){var n=Object(r.h)(e.value),u=_((function(e){n.value=e}),t),c=u.run,o=u.cancel,i=Object(r.j)(e,(function(e){return c(e)}));return Object(r.c)()&&Object(r.f)((function(){i(),o()})),n
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */}function L(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var u=Array(e),r=0;for(t=0;t<n;t++)for(var c=arguments[t],o=0,i=c.length;o<i;o++,r++)u[r]=c[o];return u}function V(e,t){var n=function(e,t){var n=e>0?e-1:t.length+e;return n>=t.length&&(n=t.length-1),n<0&&(n=0),n}(e,t);return{_before:t.slice(0,n),_after:t.slice(n+1),_current:t[n]}}function w(e){var t=Object(r.h)(e),n=Object(r.h)(0),u=Object(r.h)(0),c=h.USER,o={past:[],future:[]};function i(e,t){void 0===t&&(t=!1),o.past=t?e:L(o.past,e)}function s(e,t){void 0===t&&(t=!1),o.future=t?e:L(e,o.future)}function a(e){if(void 0===e&&(e=0),0!==e)return c=h.GO,e>0?function(e){if(void 0===e&&(e=1),!(o.future.length<=0)){var n=V(e,o.future),u=n._after,r=n._current,c=n._before;i(L([t.value],c)),s(u,!0),t.value=r}}(e):function(e){if(void 0===e&&(e=-1),!(o.past.length<=0)){var n=V(e,o.past),u=n._after,r=n._current;i(n._before,!0),s(L(u,[t.value])),t.value=r}}(e)}var p=Object(r.j)(t,(function(e,t){c===h.USER?i([t]):c=h.USER,n.value=o.past.length,u.value=o.future.length}),{flush:"sync"});return Object(r.c)()&&Object(r.f)((function(){return p()})),{current:t,go:a,forward:function(){return a(1)},back:function(){return a(-1)},backLength:Object(r.a)((function(){return n.value})),forwardLength:Object(r.a)((function(){return u.value}))}}function D(e,t,n){var u=Object(r.h)(),c=function(){try{var u=e.getItem(t);return u?JSON.parse(u):n}catch(e){console.warn(e)}}();c&&(u.value=c);var o=Object(r.j)(u,(function(n){var u;void 0===(u=n)?e.removeItem(t):e.setItem(t,JSON.stringify(u))}),{flush:"post",deep:!0});return Object(r.c)()&&Object(r.f)((function(){return o()})),u}(v=h||(h={}))[v.GO=0]="GO",v[v.USER=1]="USER";var J="undefined"!=typeof window;function E(){var e={};return{getItem:function(t){return e[t]},setItem:function(t,n){return e[t]=n},removeItem:function(t){return delete e[t]},clear:function(){return e={}},length:Object.keys(e).length,key:function(t){return Object.keys(e)[t]}}}function N(e,t){return D(J?localStorage:E(),e,t)}function T(e,t){return D(J?sessionStorage:E(),e,t)}function P(e,t,n){var u,c=Object(r.h)(null);return Object(r.e)((function(){u=(null==n?void 0:n.dom)?"function"==typeof(null==n?void 0:n.dom)?null==n?void 0:n.dom():Object(r.d)(null==n?void 0:n.dom)?n.dom.value:null==n?void 0:n.dom:window,c.value&&(u=c.value),u.addEventListener(e,t,{capture:null==n?void 0:n.capture,once:null==n?void 0:n.once,passive:null==n?void 0:n.passive})})),Object(r.f)((function(){u.removeEventListener(e,t,{capture:null==n?void 0:n.capture})})),c}function R(e,t){var n=Object(r.h)(null);return P("click",(function(u){var r=("function"==typeof t?t():t)||n.value;r&&!r.contains(u.target)&&e(u)}),{capture:!1}),n}function C(e){void 0===e&&(e=J?document:void 0);var t=Object(r.g)({x:0,y:0}),n=Object(r.h)(null);function u(e){void 0!==e&&(e===document?e.scrollingElement&&(t.x=e.scrollingElement.scrollLeft,t.x=e.scrollingElement.scrollTop):(t.x=e.scrollLeft,t.y=e.scrollTop))}var c=_((function(e){e.target&&u(e.target)}),100).run;return Object(r.c)()&&(Object(r.e)((function(){var t=("function"==typeof e?e():e)||n.value;t&&(u(t),t.addEventListener("scroll",c))})),Object(r.f)((function(){}))),[t,n]}function G(){return function(e){return void 0===e?{draggable:"true",key:function(e){return JSON.stringify(e)},onDragStart:function(e){return function(t){var n;null===(n=t.dataTransfer)||void 0===n||n.setData("custom",JSON.stringify(e))}}}:{draggable:"true",key:JSON.stringify(e),onDragStart:function(t){var n;null===(n=t.dataTransfer)||void 0===n||n.setData("custom",JSON.stringify(e))}}}}function x(e,t){return{onDragOver:function(e){e.preventDefault()},onDragEnter:function(e){e.preventDefault(),t.value=!0},onDragLeave:function(e){e.preventDefault(),t.value=!1},onDrop:function(n){n.preventDefault(),t.value=!1,e(n.dataTransfer,n)},onPaste:function(t){t.preventDefault(),e(t.clipboardData,t)}}}function A(e){void 0===e&&(e={});var t=Object(r.h)(!1);return[x((function(t,n){var u=null==t?void 0:t.getData("text/uri-list"),r=null==t?void 0:t.getData("custom");r&&(null==e?void 0:e.onDom)?e.onDom(r,n):u&&(null==e?void 0:e.onUri)?e.onUri(u,n):t.files&&t.files.length>0&&(null==e?void 0:e.onFiles)?e.onFiles(L(Array.from(t.files)),n):t.items&&t.items.length>0&&(null==e?void 0:e.onText)&&t.items[0].getAsString((function(t){e.onText(t,n)}))}),t),Object(r.a)((function(){return t.value}))]}function B(e,t){var n=t.itemHeight,u=t.overscan,c=void 0===u?5:u,o=Object(r.h)(null),i=Object(r.h)(0),s=Object(r.h)(0);function a(){return Object(r.d)(e)?e.value:e}var p=Object(r.g)({start:0,end:10}),f=Object(r.a)((function(){return a().slice(p.start,p.end).map((function(e,t){return{data:e,index:t+p.start}}))})),l={};function d(e){if(l[e])return l[e];var t;return t="number"==typeof n?e*n:a().slice(0,e).reduce((function(e,t,u){return e+n(u)}),0),l[e]=t,t}function h(){var e=o.value;if(e){var t=function(e){if("number"==typeof n)return 1+(e/n|0);for(var t=0,u=0,r=a().length,c=0;c<r;c++)if((t+=n(c))>=e){u=c;break}return u+1}(e.scrollTop),u=function(e){if("number"==typeof n)return Math.ceil(e/n);for(var t=0,u=0,r=a().length,o=p.start+c;o<r;o++)if((t+=n(o))>e){u=o;break}return u-p.start}(e.clientHeight),r=t-c,s=t+u+c,f=a().length;if(s>=f&&p.end===f)return;p.start=r<0?0:r,p.end=s>f?f:s,i.value=d(p.start)}}var v=_(h,80).run;return Object(r.c)()&&Object(r.e)((function(){Object(r.k)((function(){var e=d(a().length);e!==s.value&&(s.value=e)})),h()})),{list:f,wrapperProps:Object(r.g)({style:{width:"100%",boxSizing:"border-box",height:Object(r.a)((function(){return s.value+"px"})),paddingTop:Object(r.a)((function(){return i.value+"px"}))}}),containeRef:o,containeProps:{onScroll:function(e){e.preventDefault(),v()},style:{overflowY:"auto"}},scrollTo:function(e){o.value&&(e<0&&(e=0),e>a.length&&(e=a().length),o.value.scrollTop=d(e),h())}}}},330:function(e,t,n){},365:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return o}));n(171),n(68);var u=[{skuId:"1",spuSpecValues:[{specId:"a",specName:"颜色",specValueId:"11",specValueRemark:"黑色"},{specId:"b",specName:"尺寸",specValueId:"101",specValueRemark:"L"}]},{skuId:"2",spuSpecValues:[{specId:"a",specName:"颜色",specValueId:"12",specValueRemark:"绿色"},{specId:"b",specName:"尺寸",specValueId:"102",specValueRemark:"S"}]},{skuId:"2",spuSpecValues:[{specId:"a",specName:"颜色",specValueId:"12",specValueRemark:"绿色"},{specId:"b",specName:"尺寸",specValueId:"103",specValueRemark:"XS"}]}];function r(){return u.map((function(e){return e.spuSpecValues.map((function(e){return e.specValueRemark})).join("-")}))}var c={skuList:[{skuId:"1",specs:[{specId:"a",specName:"颜色",specValueId:"11",specValueRemark:"黑色"},{specId:"b",specName:"尺寸",specValueId:"101",specValueRemark:"L"}]},{skuId:"2",specs:[{specId:"a",specName:"颜色",specValueId:"12",specValueRemark:"绿色"},{specId:"b",specName:"尺寸",specValueId:"102",specValueRemark:"S"}]},{skuId:"2",specs:[{specId:"a",specName:"颜色",specValueId:"12",specValueRemark:"绿色"},{specId:"b",specName:"尺寸",specValueId:"103",specValueRemark:"XS"}]}]},o={getSkuList:function(e){return e.skuList},getSkuSpecList:function(e){return e.specs}}},366:function(e,t,n){"use strict";var u=n(330);n.n(u).a},410:function(e,t,n){"use strict";n.r(t);var u=n(365),r=n(311),c={name:"use-sku-custom",setup:function(){var e=Object(r.k)(u.b,u.d);return{skuList:e.skuList,specTap:e.specTap,allSku:Object(u.c)()}}},o=(n(366),n(26)),i=Object(o.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"info"},[n("h4",[e._v("所有可组合的Sku")]),e._v(" "),e._l(e.allSku,(function(t){return n("span",{staticClass:"block"},[e._v(e._s(t))])}))],2),e._v(" "),e._l(e.skuList,(function(t){return n("div",{key:t.row,staticClass:"spec-line"},[n("h4",[e._v(e._s(t.specLineTitle))]),e._v(" "),e._l(t.specs,(function(t){return n("span",{class:["spec",t.status],on:{click:function(n){return e.specTap(t)}}},[e._v(e._s(t.specValue))])}))],2)}))],2)}),[],!1,null,"14b6ffd6",null);t.default=i.exports}}]);