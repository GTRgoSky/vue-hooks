(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{310:function(e,t,n){var u=n(1),r=n(4),c=n(100),i=[].slice,o=function(e){return function(t,n){var u=arguments.length>2,r=u?i.call(arguments,2):void 0;return e(u?function(){("function"==typeof t?t:Function(t)).apply(this,r)}:t,n)}};u({global:!0,bind:!0,forced:/MSIE .\./.test(c)},{setTimeout:o(r.setTimeout),setInterval:o(r.setInterval)})},311:function(e,t,n){"use strict";n.d(t,"a",(function(){return N})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return I})),n.d(t,"d",(function(){return R})),n.d(t,"e",(function(){return G})),n.d(t,"f",(function(){return T})),n.d(t,"g",(function(){return L})),n.d(t,"h",(function(){return J})),n.d(t,"i",(function(){return P})),n.d(t,"j",(function(){return E})),n.d(t,"k",(function(){return k})),n.d(t,"l",(function(){return y})),n.d(t,"m",(function(){return _})),n.d(t,"n",(function(){return x}));n(168),n(99),n(68),n(169),n(45),n(98),n(27),n(310);var u=n(0),r=n(97);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
function c(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var u=Array(e),r=0;for(t=0;t<n;t++)for(var c=arguments[t],i=0,o=c.length;i<o;i++,r++)u[r]=c[i];return u}u.a.use(r.c);var i=function(e){return null==e},o=function(){function e(e){this._m=e}return e.prototype.getRawMatrix=function(){return this._m},e.prototype.getRawMatrixColNum=function(){try{return this._m[0].length}catch(e){throw new Error("矩阵列不能为空")}},e.prototype.getRawMatrixRowNum=function(){return this._m.length},e.prototype.transpose=function(){for(var e=this.getRawMatrixColNum(),t=this.getRawMatrixRowNum(),n=Array.from({length:e}).map((function(){return Array.from({length:t})})),u=0;u<e;u++)for(var r=0;r<t;r++)n[u][r]=this._m[r][u];return n},e}();function s(e,t,n){if(void 0===n&&(n=function(e){return e.join("-")}),t<0)return[];if(1===t)return e.map((function(e){return n([e])}));var u=[];return function e(r,c,i){if(i.length!==t)for(var o=c;o<r.length;o++)i.push(r[o]),e(r,o+1,i),i.pop();else u.push(n(i))}(e,0,[]),u}var a={skuCodeJoiner:"$",specCodeJoiner:"#",getSkuList:function(e){return e},getSkuSpecList:function(e){return e.spuSpecValues},getSkuId:function(e){return e.skuId},getSpecId:function(e){return e.specId},getSpecTitle:function(e){return e.specName},getspecValueId:function(e){return e.specValueId},getspecValue:function(e){return e.specValueRemark}};var p,l=function(){function e(e){this.hooks=[],this.selectedSpec=Array.from({length:e})}return e.prototype.selectSpec=function(e,t){var n=this;this.selectedSpec[e]=t,this.checkIsGenASku()&&this.hooks.forEach((function(e){e(n.getSpecsJoin())}))},e.prototype.cancelSpec=function(e){this.selectedSpec[e]=null},e.prototype.sepcIsSelected=function(e,t){var n;return!(!this.selectedSpec[e]||(null===(n=this.selectedSpec[e])||void 0===n?void 0:n.specJoinQue)!==t.specJoinQue)},e.prototype.getSpecsJoinWith=function(e,t){return this.selectedSpec.reduce((function(n,u,r){return r===e?n?""+n+a.specCodeJoiner+t.specJoinQue:t.specJoinQue:n?u?""+n+a.specCodeJoiner+u.specJoinQue:n:u?u.specJoinQue:""}),"")},e.prototype.combineHook=function(e){this.hooks.push(e)},e.prototype.checkIsGenASku=function(){return!this.selectedSpec.some(i)},e.prototype.getSpecsJoin=function(){return this.selectedSpec.map((function(e){return null==e?void 0:e.specJoinQue})).join(a.specCodeJoiner)},e}(),f=function(){function e(e){this.skuId="",this.toltalSpecCombine=[],this.code=e,this._combineCode()}return e.prototype._combineCode=function(){var e=this.code.split(a.skuCodeJoiner);this.skuId=e[0];for(var t=e[1].split(a.specCodeJoiner),n=t.length,u=1;u<=n;u++){var r=s(t,u,(function(e){return e.join(a.specCodeJoiner)}));this.toltalSpecCombine=c(this.toltalSpecCombine,r)}},e}();!function(e){e.PENDING="pending",e.DISABLED="disabled",e.SELECTED="selected"}(p||(p={}));var d,v=function(){function e(e){this.pathDict=[],this.specGroup=e,this._initPathDict(),this._initSkuPending()}return e.prototype._initPathDict=function(){var e=this;this.specGroup.eachSkuIdJoinSpecsId((function(t){var n=new f(t);e.pathDict=c(e.pathDict,n.toltalSpecCombine)}))},e.prototype._initSkuPending=function(){var e=this.specGroup.specLines.length;this.skuPending=new l(e)},e.prototype.specTap=function(e){e.status!==p.DISABLED&&(this._changeSpecStatus(e),this._checkOtherSpecStatus())},e.prototype.onSkuCombined=function(e){var t=this;this.skuPending.combineHook((function(n){var u,r;t.specGroup.skuIdJoinSpecsId.forEach((function(e){var t;e.includes(n)&&(t=e.split(a.skuCodeJoiner),u=t[0],r=t[1])})),e(u,r)}))},e.prototype._changeSpecStatus=function(e){e.status===p.PENDING?(this.specGroup.setSpecStatusByPosition(e.row,e.col,p.SELECTED),this.skuPending.selectSpec(e.row,this.specGroup.getSpec(e.row,e.col))):e.status===p.SELECTED&&(this.specGroup.setSpecStatusByPosition(e.row,e.col,p.PENDING),this.skuPending.cancelSpec(e.row))},e.prototype._checkOtherSpecStatus=function(){var e=this;this.specGroup.eachSpec((function(t,n,u){if(!e.skuPending.sepcIsSelected(n,t)){var r=e.skuPending.getSpecsJoinWith(n,t);e._isInPathDict(r)?e.specGroup.setSpecStatusByPosition(t.row,t.col,p.PENDING):e._disableSpec(n,u)}}))},e.prototype._isInPathDict=function(e){return this.pathDict.includes(e)},e.prototype._disableSpec=function(e,t){this.specGroup.setSpecStatusByPosition(e,t,p.DISABLED)},e}(),h=function(){function e(e,t,n){this.status=p.PENDING,this.row=t,this.col=n,this.specValue=a.getspecValue(e),this.specId=a.getSpecId(e),this.specValueId=a.getspecValueId(e)}return Object.defineProperty(e.prototype,"specJoinQue",{get:function(){return this.specValueId?this.specId+"-"+this.specValueId:""+this.specId},enumerable:!1,configurable:!0}),e.prototype.setStatus=function(e){this.status=e},e}(),S=function(){function e(e,t){this.specLineTitle="",this.specs=[],this.row=t,this.specLineTitle=a.getSpecTitle(e[0]),this._init(e)}return e.prototype._init=function(e){var t=this;e.map((function(e,n){if(!t._specIsRepeact(e)){var u=new h(e,t.row,n);t.specs.push(u)}}))},e.prototype._specIsRepeact=function(e){return this.specs.findIndex((function(t){return t.specId+"-"+t.specValueId==a.getSpecId(e)+"-"+a.getspecValueId(e)}))>-1},e}(),g=function(){function e(e){this._skuSpecsList=[],this._skuIdJoinSpecsId=[],this.specLines=[],this._skuList=a.getSkuList(e),this._setup()}return Object.defineProperty(e.prototype,"skuSpecsList",{get:function(){return this._skuSpecsList},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skuIdJoinSpecsId",{get:function(){return this._skuIdJoinSpecsId},enumerable:!1,configurable:!0}),e.prototype._setup=function(){this._createSkuSpecsList();var e=this._transposeSkuSpecsList();this._createSpecLines(e)},e.prototype._createSkuSpecsList=function(){var e=this;this._skuSpecsList=this._skuList.map((function(t){var n=a.getSkuSpecList(t);return e._createSkuIdJoinSpecsId(t,n),n}))},e.prototype._createSkuIdJoinSpecsId=function(e,t){var n=""+a.getSkuId(e)+a.skuCodeJoiner;n+=t.map((function(e){var t=a.getSpecId(e),n=a.getspecValueId(e);return n?t+"-"+n:t})).join(a.specCodeJoiner),this._skuIdJoinSpecsId.push(n)},e.prototype._transposeSkuSpecsList=function(){return new o(this._skuSpecsList).transpose()},e.prototype._createSpecLines=function(e){for(var t=0;t<e.length;t++){var n=new S(e[t],t);this.specLines.push(n)}},e.prototype.eachSpec=function(e){this.specLines.forEach((function(t,n){t.specs.forEach((function(t,u){e(t,n,u)}))}))},e.prototype.getSpec=function(e,t){return this.specLines[e].specs[t]},e.prototype.setSpecStatusByPosition=function(e,t,n){this.specLines[e].specs[t].setStatus(n)},e.prototype.eachSkuIdJoinSpecsId=function(e){this._skuIdJoinSpecsId.forEach((function(t){e(t)}))},e}();function m(e,t){t&&function(e){a=function(e,t){var n={};for(var u in t)n[u]=t[u];for(var u in e)Object.prototype.hasOwnProperty.call(n,u)||(n[u]=e[u]);return n}(a,e)}(t);var n=new g(e);return new v(n)}function k(e,t){var n=m(e,t),u=Object(r.j)(n.specGroup.specLines);return{specTap:function(e){n.specTap(e),u.value=n.specGroup.specLines.concat()},skuList:u}}function b(e,t){var n="number"==typeof t?t:0,u=null;function r(){u&&clearTimeout(u)}return{run:function(){for(var t=[],c=0;c<arguments.length;c++)t[c]=arguments[c];r(),u=setTimeout((function(){e.apply(void 0,t)}),n)},cancel:r}}function I(e,t){void 0===t&&(t=0);var n=null;return Object(r.b)((function(u,r){return{get:function(){return u(),e},set:function(u){n&&clearTimeout(n),n=setTimeout((function(){e=u,r()}),t)}}}))}function y(e,t){var n="number"==typeof t?t:0,u=null;return{run:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];u||(u=setTimeout((function(){e.apply(void 0,t),u=null}),n))},cancel:function(){u&&clearTimeout(u)}}}function _(e,t){void 0===t&&(t=0);var n=null;return Object(r.b)((function(u,r){return{get:function(){return u(),e},set:function(u){n||(e=u,r(),n=setTimeout((function(){n=null}),t))}}}))}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function O(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var u=Array(e),r=0;for(t=0;t<n;t++)for(var c=arguments[t],i=0,o=c.length;i<o;i++,r++)u[r]=c[i];return u}function j(e,t){var n=function(e,t){var n=e>0?e-1:t.length+e;return n>=t.length&&(n=t.length-1),n<0&&(n=0),n}(e,t);return{_before:t.slice(0,n),_after:t.slice(n+1),_current:t[n]}}function L(e){var t=Object(r.i)(e),n=Object(r.i)(0),u=Object(r.i)(0),c=d.USER,i={past:[],future:[]};function o(e,t){void 0===t&&(t=!1),i.past=t?e:O(i.past,e)}function s(e,t){void 0===t&&(t=!1),i.future=t?e:O(e,i.future)}function a(e){if(void 0===e&&(e=0),0!==e)return c=d.GO,e>0?function(e){if(void 0===e&&(e=1),!(i.future.length<=0)){var n=j(e,i.future),u=n._after,r=n._current,c=n._before;o(O([t.value],c)),s(u,!0),t.value=r}}(e):function(e){if(void 0===e&&(e=-1),!(i.past.length<=0)){var n=j(e,i.past),u=n._after,r=n._current;o(n._before,!0),s(O(u,[t.value])),t.value=r}}(e)}var p=Object(r.k)(t,(function(e,t){c===d.USER?o([t]):c=d.USER,n.value=i.past.length,u.value=i.future.length}),{flush:"sync"});return Object(r.d)()&&Object(r.g)((function(){return p()})),{current:t,go:a,forward:function(){return a(1)},back:function(){return a(-1)},backLength:Object(r.a)((function(){return n.value})),forwardLength:Object(r.a)((function(){return u.value}))}}function V(e,t,n){var u=Object(r.i)();var c=function(){try{var u=e.getItem(t);return u?JSON.parse(u):n}catch(e){console.warn(e)}}();return c&&(u.value=c),Object(r.k)(u,(function(n){var u;void 0===(u=n)?e.removeItem(t):e.setItem(t,JSON.stringify(u))}),{flush:"post",deep:!0}),u}!function(e){e[e.GO=0]="GO",e[e.USER=1]="USER"}(d||(d={}));var w="undefined"!=typeof window;function D(){var e={};return{getItem:function(t){return e[t]},setItem:function(t,n){return e[t]=n},removeItem:function(t){return delete e[t]},clear:function(){return e={}},length:Object.keys(e).length,key:function(t){return Object.keys(e)[t]}}}function J(e,t){return V(w?localStorage:D(),e,t)}function E(e,t){return V(w?sessionStorage:D(),e,t)}function T(e,t,n){var u,c=Object(r.i)(null);return Object(r.f)((function(){u=(null==n?void 0:n.dom)?"function"==typeof(null==n?void 0:n.dom)?null==n?void 0:n.dom():Object(r.e)(null==n?void 0:n.dom)?n.dom.value:null==n?void 0:n.dom:window,c.value&&(u=c.value),u.addEventListener(e,t,{capture:null==n?void 0:n.capture,once:null==n?void 0:n.once,passive:null==n?void 0:n.passive})})),Object(r.g)((function(){u.removeEventListener(e,t,{capture:null==n?void 0:n.capture})})),c}function N(e,t){var n=Object(r.i)(null);return T("click",(function(u){var r=("function"==typeof t?t():t)||n.value;r&&!r.contains(u.target)&&e(u)}),{capture:!1}),n}function P(e){void 0===e&&(e=w?document:void 0);var t=Object(r.h)({x:0,y:0}),n=Object(r.i)(null);function u(e){void 0!==e&&(e===document?e.scrollingElement&&(t.x=e.scrollingElement.scrollLeft,t.x=e.scrollingElement.scrollTop):(t.x=e.scrollLeft,t.y=e.scrollTop))}var c=y((function(e){e.target&&u(e.target)}),100).run;return Object(r.d)()&&(Object(r.f)((function(){var t=("function"==typeof e?e():e)||n.value;t&&(u(t),t.addEventListener("scroll",c))})),Object(r.g)((function(){}))),[Object(r.a)((function(){return t})),n]}function R(){return function(e){return void 0===e?{draggable:"true",key:function(e){return JSON.stringify(e)},onDragStart:function(e){return function(t){var n;null===(n=t.dataTransfer)||void 0===n||n.setData("custom",JSON.stringify(e))}}}:{draggable:"true",key:JSON.stringify(e),onDragStart:function(t){var n;null===(n=t.dataTransfer)||void 0===n||n.setData("custom",JSON.stringify(e))}}}}function C(e,t){return{onDragOver:function(e){e.preventDefault()},onDragEnter:function(e){e.preventDefault(),t.value=!0},onDragLeave:function(e){e.preventDefault(),t.value=!1},onDrop:function(n){n.preventDefault(),t.value=!1,e(n.dataTransfer,n)},onPaste:function(t){t.preventDefault(),e(t.clipboardData,t)}}}function G(e){void 0===e&&(e={});var t=Object(r.i)(!1);return[C((function(t,n){var u=null==t?void 0:t.getData("text/uri-list"),r=null==t?void 0:t.getData("custom");r&&(null==e?void 0:e.onDom)?e.onDom(r,n):u&&(null==e?void 0:e.onUri)?e.onUri(u,n):t.files&&t.files.length>0&&(null==e?void 0:e.onFiles)?e.onFiles(O(Array.from(t.files)),n):t.items&&t.items.length>0&&(null==e?void 0:e.onText)&&t.items[0].getAsString((function(t){e.onText(t,n)}))}),t),Object(r.a)((function(){return t.value}))]}function x(e,t){var n=t.itemHeight,u=t.overscan,c=void 0===u?5:u,i=Object(r.i)(null),o=Object(r.i)(0),s=Object(r.i)(0);function a(){return Object(r.e)(e)?e.value:e}var p=Object(r.h)({start:0,end:10}),l=Object(r.a)((function(){return a().slice(p.start,p.end).map((function(e,t){return{data:e,index:t+p.start}}))})),f={};function d(e){if(f[e])return f[e];var t=0;return t="number"==typeof n?e*n:a().slice(0,e).reduce((function(e,t,u){return e+n(u)}),0),f[e]=t,t}function v(){var e=i.value;if(e){var t=function(e){if("number"==typeof n)return 1+(e/n|0);for(var t=0,u=0,r=a().length,c=0;c<r;c++)if((t+=n(c))>=e){u=c;break}return u+1}(e.scrollTop),u=function(e){if("number"==typeof n)return Math.ceil(e/n);for(var t=0,u=0,r=a().length,i=p.start+c;i<r;i++)if((t+=n(i))>e){u=i;break}return u-p.start}(e.clientHeight),r=t-c,s=t+u+c,l=a().length;if(s>=l&&p.end===l)return;p.start=r<0?0:r,p.end=s>l?l:s,o.value=d(p.start)}}var h=y(v,80).run;return Object(r.d)()&&Object(r.f)((function(){Object(r.l)((function(){var e=d(a().length);e!==s.value&&(s.value=e)})),v()})),{list:l,wrapperProps:Object(r.h)({style:{width:"100%",boxSizing:"border-box",height:Object(r.a)((function(){return s.value+"px"})),paddingTop:Object(r.a)((function(){return o.value+"px"}))}}),containeRef:i,containeProps:{onScroll:function(e){e.preventDefault(),h()},style:{overflowY:"auto"}},scrollTo:function(e){i.value&&(e<0&&(e=0),e>a().length&&(e=a().length),i.value.scrollTop=d(e),v())}}}},330:function(e,t,n){},365:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return i}));n(171),n(68);var u=[{skuId:"1",spuSpecValues:[{specId:"a",specName:"颜色",specValueId:"11",specValueRemark:"黑色"},{specId:"b",specName:"尺寸",specValueId:"101",specValueRemark:"L"}]},{skuId:"2",spuSpecValues:[{specId:"a",specName:"颜色",specValueId:"12",specValueRemark:"绿色"},{specId:"b",specName:"尺寸",specValueId:"102",specValueRemark:"S"}]},{skuId:"2",spuSpecValues:[{specId:"a",specName:"颜色",specValueId:"12",specValueRemark:"绿色"},{specId:"b",specName:"尺寸",specValueId:"103",specValueRemark:"XS"}]}];function r(){return u.map((function(e){return e.spuSpecValues.map((function(e){return e.specValueRemark})).join("-")}))}var c={skuList:[{skuId:"1",specs:[{specId:"a",specName:"颜色",specValueId:"11",specValueRemark:"黑色"},{specId:"b",specName:"尺寸",specValueId:"101",specValueRemark:"L"}]},{skuId:"2",specs:[{specId:"a",specName:"颜色",specValueId:"12",specValueRemark:"绿色"},{specId:"b",specName:"尺寸",specValueId:"102",specValueRemark:"S"}]},{skuId:"2",specs:[{specId:"a",specName:"颜色",specValueId:"12",specValueRemark:"绿色"},{specId:"b",specName:"尺寸",specValueId:"103",specValueRemark:"XS"}]}]},i={getSkuList:function(e){return e.skuList},getSkuSpecList:function(e){return e.specs}}},366:function(e,t,n){"use strict";var u=n(330);n.n(u).a},409:function(e,t,n){"use strict";n.r(t);var u=n(365),r=n(311),c={name:"use-sku-custom",setup:function(){var e=Object(r.k)(u.b,u.d);return{skuList:e.skuList,specTap:e.specTap,allSku:Object(u.c)()}}},i=(n(366),n(26)),o=Object(i.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"info"},[n("h4",[e._v("所有可组合的Sku")]),e._v(" "),e._l(e.allSku,(function(t){return n("span",{staticClass:"block"},[e._v(e._s(t))])}))],2),e._v(" "),e._l(e.skuList,(function(t){return n("div",{key:t.row,staticClass:"spec-line"},[n("h4",[e._v(e._s(t.specLineTitle))]),e._v(" "),e._l(t.specs,(function(t){return n("span",{class:["spec",t.status],on:{click:function(n){return e.specTap(t)}}},[e._v(e._s(t.specValue))])}))],2)}))],2)}),[],!1,null,"14b6ffd6",null);t.default=o.exports}}]);